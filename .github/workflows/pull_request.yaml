name: PJRT GPU library
on:
  push:
    tags:
      - "*"
  pull_request:

concurrency:
  group: ${{ github.workflow_sha }}-${{ github.event.pull_request.number || github.ref }}
  cancel-in-progress: true

permissions:
  contents: write

jobs:
  pjrt-artifacts:
    uses: ./.github/workflows/build.yaml
    with:
      xla_commit: main
      rocm_xla_commit: rocm-jaxlib-v0.8.0
